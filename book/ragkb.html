<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>RAG &amp; Knowledge Bases - AWS AI Practitioner Study Guide</title>


        <!-- Custom HTML head -->

        <meta name="description" content="A complete and motivating study guide for the AWS Certified AI Practitioner exam">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AWS AI Practitioner Study Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/YOUR_ORG/YOUR_REPO" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="rag-and-knowledge-bases"><a class="header" href="#rag-and-knowledge-bases">RAG and Knowledge Bases</a></h1>
<h2 id="what-is-rag"><a class="header" href="#what-is-rag">What is RAG?</a></h2>
<p>RAG stands for Retrieval Augmented Generation. Behind this very fancy name, there is a very simple concept. This allows your foundation model to reference a data source from outside of its training data without being fine-tuned.</p>
<h2 id="how-rag-works"><a class="header" href="#how-rag-works">How RAG Works</a></h2>
<p>Now that we understand what RAG is, let's see how it actually works. We have a knowledge base that is being built and managed by Amazon Bedrock. For this, it must rely on a data source, for example Amazon S3.</p>
<p><strong>The RAG Process:</strong></p>
<ol>
<li>Your data is stored in Amazon S3</li>
<li>Bedrock automatically builds a knowledge base from this data</li>
<li>A user asks a question to your foundation model (e.g., "Who is the product manager for John?")</li>
<li>The foundation model doesn't know anything about John because this is specific company data</li>
<li>A search happens automatically in the knowledge base (all behind the scenes)</li>
<li>The knowledge base retrieves relevant information from the vector database</li>
<li>Retrieved text is combined with the original query as an "augmented prompt"</li>
<li>The foundation model generates a response using both the original question and the retrieved context</li>
</ol>
<p><strong>Example Response Flow:</strong></p>
<ul>
<li>Query: "Who is the product manager for John?"</li>
<li>Retrieved information: Support contacts, product manager Jesse Smith, engineer Sarah Ronald</li>
<li>Final response: "Jesse Smith is the product manager for John"</li>
</ul>
<p>This is called Retrieval Augmented Generation because we retrieve data outside of the foundation model, and it's augmented generation because we augment the prompt with external data that has been retrieved.</p>
<h2 id="knowledge-bases-in-amazon-bedrock"><a class="header" href="#knowledge-bases-in-amazon-bedrock">Knowledge Bases in Amazon Bedrock</a></h2>
<p>RAG in AWS Amazon Bedrock is implemented as a knowledge base. This is very helpful when you need to have data that is very up-to-date, in real time, and needs to be fed into the foundation model.</p>
<p><strong>Example Use Case:</strong>
When you ask "Give me talking points for benefits of air travel," the response includes citations linking back to source documents like "Air travel.pdf" stored in Amazon S3.</p>
<h2 id="vector-databases"><a class="header" href="#vector-databases">Vector Databases</a></h2>
<p>Everything goes into a vector database. Vector databases on AWS and Amazon Bedrock can be of several kinds:</p>
<p><strong>AWS Services:</strong></p>
<ul>
<li><strong>Amazon OpenSearch Service</strong></li>
<li><strong>Amazon Aurora</strong></li>
</ul>
<p><strong>Third-Party Options:</strong></p>
<ul>
<li>MongoDB</li>
<li>Redis</li>
<li>Pinecone</li>
</ul>
<p>If you don't specify anything, AWS will create an OpenSearch Service serverless database for you automatically.</p>
<h3 id="choosing-the-right-vector-database"><a class="header" href="#choosing-the-right-vector-database">Choosing the Right Vector Database</a></h3>
<p><strong>High Performance Options:</strong></p>
<ul>
<li><strong>Amazon OpenSearch Service</strong> - Search and analytics database with scalable index management and very fast nearest neighbor search capability (KNN). Best for real-time similarity queries and storing millions of vector embeddings</li>
<li><strong>Amazon DocumentDB</strong> - NoSQL database with MongoDB compatibility, also excellent for real-time similarity queries and millions of vector embeddings</li>
</ul>
<p><strong>Relational Database Options:</strong></p>
<ul>
<li><strong>Amazon Aurora</strong> - Proprietary AWS database that's cloud-friendly</li>
<li><strong>Amazon RDS for PostgreSQL</strong> - Open source relational database</li>
</ul>
<p><strong>Graph Database Option:</strong></p>
<ul>
<li><strong>Amazon Neptune</strong> - For graph database requirements</li>
</ul>
<h2 id="embeddings-models"><a class="header" href="#embeddings-models">Embeddings Models</a></h2>
<p>We need an embeddings model to convert data into vectors. Options include Amazon Titan or Cohere. The embeddings model and the foundation model can be different - they don't need to match.</p>
<p><strong>The Process:</strong></p>
<ol>
<li>S3 documents are chunked (split into different parts)</li>
<li>These parts are fed into the embeddings model</li>
<li>The model generates vectors</li>
<li>Vectors are placed in the vector database</li>
<li>Vectors become easily searchable for RAG queries</li>
</ol>
<h2 id="data-sources-for-amazon-bedrock"><a class="header" href="#data-sources-for-amazon-bedrock">Data Sources for Amazon Bedrock</a></h2>
<p>Amazon Bedrock supports several data sources:</p>
<ul>
<li><strong>Amazon S3</strong> - Cloud file storage</li>
<li><strong>Confluence</strong></li>
<li><strong>Microsoft SharePoint</strong></li>
<li><strong>Salesforce</strong></li>
<li><strong>Web pages</strong> - Including websites and social media feeds</li>
</ul>
<p>Amazon Bedrock will likely add more sources over time, but from an exam perspective, remembering Amazon S3 and these core sources should be sufficient.</p>
<h2 id="use-cases-for-amazon-bedrock-rag"><a class="header" href="#use-cases-for-amazon-bedrock-rag">Use Cases for Amazon Bedrock RAG</a></h2>
<p><strong>Customer Service ChatBot:</strong></p>
<ul>
<li>Knowledge base: Products, features, specifications, troubleshooting guides, FAQs</li>
<li>Application: ChatBot that answers customer queries</li>
</ul>
<p><strong>Legal Research and Analysis:</strong></p>
<ul>
<li>Knowledge base: Laws, regulations, case precedents, legal opinions, expert analysis</li>
<li>Application: ChatBot for specific legal queries</li>
</ul>
<p><strong>Healthcare Question Answering:</strong></p>
<ul>
<li>Knowledge base: Diseases, treatments, clinical guidelines, research papers, patient data</li>
<li>Application: ChatBot for complex medical queries</li>
</ul>
<p>RAG opens up a lot of possibilities for doing generative AI on AWS, making it possible to create intelligent applications that can access and reason over your specific organizational knowledge.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="fmevalhandson.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="moregenai.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="fmevalhandson.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="moregenai.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
